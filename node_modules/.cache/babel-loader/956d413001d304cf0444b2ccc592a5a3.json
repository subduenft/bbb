{"ast":null,"code":"\"use strict\";\n\nvar _defineProperty = require(\"/Users/nicholasschepisi/Desktop/code/bbb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/defineProperty\");\nvar _toConsumableArray = require(\"/Users/nicholasschepisi/Desktop/code/bbb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/toConsumableArray\");\nvar _classCallCheck = require(\"/Users/nicholasschepisi/Desktop/code/bbb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\nvar _createClass = require(\"/Users/nicholasschepisi/Desktop/code/bbb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\nvar _possibleConstructorReturn = require(\"/Users/nicholasschepisi/Desktop/code/bbb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/possibleConstructorReturn\");\nvar _getPrototypeOf = require(\"/Users/nicholasschepisi/Desktop/code/bbb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/getPrototypeOf\");\nvar _inherits = require(\"/Users/nicholasschepisi/Desktop/code/bbb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.IntDataType = void 0;\nvar ethereum_types_1 = require(\"ethereum-types\");\nvar configured_bignumber_1 = require(\"../../configured_bignumber\");\nvar blob_1 = require(\"../abstract_data_types/types/blob\");\nvar constants_1 = require(\"../utils/constants\");\nvar EncoderMath = require(\"../utils/math\");\n// tslint:disable:custom-no-magic-numbers\nvar IntDataType = /*#__PURE__*/function (_blob_1$AbstractBlobD) {\n  _inherits(IntDataType, _blob_1$AbstractBlobD);\n  function IntDataType(dataItem, dataTypeFactory) {\n    var _this;\n    _classCallCheck(this, IntDataType);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(IntDataType).call(this, dataItem, dataTypeFactory, IntDataType._SIZE_KNOWN_AT_COMPILE_TIME));\n    if (!IntDataType.matchType(dataItem.type)) {\n      throw new Error(\"Tried to instantiate Int with bad input: \".concat(dataItem));\n    }\n    _this._width = IntDataType._decodeWidthFromType(dataItem.type);\n    _this._minValue = IntDataType._WIDTH_TO_MIN_VALUE[_this._width];\n    _this._maxValue = IntDataType._WIDTH_TO_MAX_VALUE[_this._width];\n    return _this;\n  }\n  _createClass(IntDataType, [{\n    key: \"encodeValue\",\n    value: function encodeValue(value) {\n      var encodedValue = EncoderMath.safeEncodeNumericValue(value, this._minValue, this._maxValue);\n      return encodedValue;\n    }\n  }, {\n    key: \"decodeValue\",\n    value: function decodeValue(calldata) {\n      var valueBuf = calldata.popWord();\n      var value = EncoderMath.safeDecodeNumericValue(valueBuf, this._minValue, this._maxValue);\n      if (this._width === constants_1.constants.NUMBER_OF_BYTES_IN_INT8) {\n        return value.toNumber();\n      }\n      return value;\n    }\n  }, {\n    key: \"getDefaultValue\",\n    value: function getDefaultValue() {\n      var defaultValue = IntDataType._DEFAULT_VALUE;\n      if (this._width === constants_1.constants.NUMBER_OF_BYTES_IN_INT8) {\n        return defaultValue.toNumber();\n      }\n      return defaultValue;\n    }\n  }, {\n    key: \"getSignatureType\",\n    value: function getSignatureType() {\n      return \"\".concat(ethereum_types_1.SolidityTypes.Int).concat(this._width);\n    }\n  }], [{\n    key: \"matchType\",\n    value: function matchType(type) {\n      return IntDataType._MATCHER.test(type);\n    }\n  }, {\n    key: \"_decodeWidthFromType\",\n    value: function _decodeWidthFromType(type) {\n      var matches = IntDataType._MATCHER.exec(type);\n      var width = matches !== null && matches.length === 2 && matches[1] !== undefined ? parseInt(matches[1], constants_1.constants.DEC_BASE) : IntDataType._DEFAULT_WIDTH;\n      return width;\n    }\n  }]);\n  return IntDataType;\n}(blob_1.AbstractBlobDataType);\nexports.IntDataType = IntDataType;\nIntDataType._MATCHER = RegExp('^int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256){0,1}$');\nIntDataType._SIZE_KNOWN_AT_COMPILE_TIME = true;\nIntDataType._MAX_WIDTH = 256;\nIntDataType._DEFAULT_WIDTH = IntDataType._MAX_WIDTH;\nIntDataType._DEFAULT_VALUE = new configured_bignumber_1.BigNumber(0);\nIntDataType._WIDTH_TO_MIN_VALUE = Object.assign.apply(Object, [{}].concat(_toConsumableArray(_toConsumableArray(new Array(32)).map(function (_x, i) {\n  var width = (i + 1) * 8;\n  return _defineProperty({}, width, new configured_bignumber_1.BigNumber(2).exponentiatedBy(width - 1).times(-1));\n}))));\nIntDataType._WIDTH_TO_MAX_VALUE = Object.assign.apply(Object, [{}].concat(_toConsumableArray(_toConsumableArray(new Array(32)).map(function (_x, i) {\n  var width = (i + 1) * 8;\n  return _defineProperty({}, width, new configured_bignumber_1.BigNumber(2).exponentiatedBy(width - 1).minus(1));\n}))));","map":null,"metadata":{},"sourceType":"script"}