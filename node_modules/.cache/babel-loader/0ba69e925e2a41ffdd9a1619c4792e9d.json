{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"/Users/nicholasschepisi/Desktop/code/bbb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\nvar _createClass = require(\"/Users/nicholasschepisi/Desktop/code/bbb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\nvar _possibleConstructorReturn = require(\"/Users/nicholasschepisi/Desktop/code/bbb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/possibleConstructorReturn\");\nvar _getPrototypeOf = require(\"/Users/nicholasschepisi/Desktop/code/bbb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/getPrototypeOf\");\nvar _inherits = require(\"/Users/nicholasschepisi/Desktop/code/bbb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AbstractPointerDataType = void 0;\nvar ethUtil = require(\"ethereumjs-util\");\nvar pointer_1 = require(\"../../calldata/blocks/pointer\");\nvar constants_1 = require(\"../../utils/constants\");\nvar data_type_1 = require(\"../data_type\");\nvar AbstractPointerDataType = /*#__PURE__*/function (_data_type_1$DataType) {\n  _inherits(AbstractPointerDataType, _data_type_1$DataType);\n  function AbstractPointerDataType(dataItem, factory, destination, parent) {\n    var _this;\n    _classCallCheck(this, AbstractPointerDataType);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AbstractPointerDataType).call(this, dataItem, factory));\n    _this._destination = destination;\n    _this._parent = parent;\n    return _this;\n  }\n  _createClass(AbstractPointerDataType, [{\n    key: \"generateCalldataBlock\",\n    value: function generateCalldataBlock(value, parentBlock) {\n      if (parentBlock === undefined) {\n        throw new Error(\"DependentDataType requires a parent block to generate its block\");\n      }\n      var destinationBlock = this._destination.generateCalldataBlock(value, parentBlock);\n      var name = this.getDataItem().name;\n      var signature = this.getSignature();\n      var parentName = parentBlock.getName();\n      var block = new pointer_1.PointerCalldataBlock(name, signature, parentName, destinationBlock, parentBlock);\n      return block;\n    }\n  }, {\n    key: \"generateValue\",\n    value: function generateValue(calldata, rules) {\n      var destinationOffsetBuf = calldata.popWord();\n      var destinationOffsetHex = ethUtil.bufferToHex(destinationOffsetBuf);\n      var destinationOffsetRelative = parseInt(destinationOffsetHex, constants_1.constants.HEX_BASE);\n      var destinationOffsetAbsolute = calldata.toAbsoluteOffset(destinationOffsetRelative);\n      var currentOffset = calldata.getOffset();\n      calldata.setOffset(destinationOffsetAbsolute);\n      var value = this._destination.generateValue(calldata, rules);\n      calldata.setOffset(currentOffset);\n      return value;\n    } // Disable prefer-function-over-method for inherited abstract method.\n    /* tslint:disable prefer-function-over-method */\n  }, {\n    key: \"isStatic\",\n    value: function isStatic() {\n      return true;\n    }\n  }]);\n  return AbstractPointerDataType;\n}(data_type_1.DataType);\nexports.AbstractPointerDataType = AbstractPointerDataType;","map":null,"metadata":{},"sourceType":"script"}