{"ast":null,"code":"'use strict';\n\nvar Call = require('es-abstract/2022/Call');\nvar Get = require('es-abstract/2022/Get');\nvar HasProperty = require('es-abstract/2022/HasProperty');\nvar IsCallable = require('es-abstract/2022/IsCallable');\nvar LengthOfArrayLike = require('es-abstract/2022/LengthOfArrayLike');\nvar ToObject = require('es-abstract/2022/ToObject');\nvar ToString = require('es-abstract/2022/ToString');\nvar callBound = require('call-bind/callBound');\nvar isString = require('is-string');\nvar $TypeError = TypeError;\n\n// Check failure of by-index access of string characters (IE < 9) and failure of `0 in boxedString` (Rhino)\nvar boxedString = Object('a');\nvar splitString = boxedString[0] !== 'a' || !(0 in boxedString);\nvar strSplit = callBound('%String.prototype.split%');\nmodule.exports = function reduce(callbackfn) {\n  var O = ToObject(this);\n  var self = splitString && isString(O) ? strSplit(O, '') : O;\n  var len = LengthOfArrayLike(self);\n\n  // If no callback function or if callback is not a callable function\n  if (!IsCallable(callbackfn)) {\n    throw new $TypeError('Array.prototype.reduce callback must be a function');\n  }\n  if (len === 0 && arguments.length < 2) {\n    throw new $TypeError('reduce of empty array with no initial value');\n  }\n  var k = 0;\n  var accumulator;\n  var Pk, kPresent;\n  if (arguments.length > 1) {\n    accumulator = arguments[1];\n  } else {\n    kPresent = false;\n    while (!kPresent && k < len) {\n      Pk = ToString(k);\n      kPresent = HasProperty(O, Pk);\n      if (kPresent) {\n        accumulator = Get(O, Pk);\n      }\n      k += 1;\n    }\n    if (!kPresent) {\n      throw new $TypeError('reduce of empty array with no initial value');\n    }\n  }\n  while (k < len) {\n    Pk = ToString(k);\n    kPresent = HasProperty(O, Pk);\n    if (kPresent) {\n      var kValue = Get(O, Pk);\n      accumulator = Call(callbackfn, void undefined, [accumulator, kValue, k, O]);\n    }\n    k += 1;\n  }\n  return accumulator;\n};","map":null,"metadata":{},"sourceType":"script"}