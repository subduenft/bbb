{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar BN = require(\"bn.js\");\nvar ethereumjs_util_1 = require(\"ethereumjs-util\");\nvar evm_1 = require(\"../evm\");\nvar assert = require('assert');\nfunction default_1(opts) {\n  assert(opts.data);\n  var gasUsed = new BN(opts._common.param('gasPrices', 'ecRecover'));\n  if (opts.gasLimit.lt(gasUsed)) {\n    return evm_1.OOGResult(opts.gasLimit);\n  }\n  var data = ethereumjs_util_1.setLengthRight(opts.data, 128);\n  var msgHash = data.slice(0, 32);\n  var v = data.slice(32, 64);\n  var r = data.slice(64, 96);\n  var s = data.slice(96, 128);\n  var publicKey;\n  try {\n    publicKey = ethereumjs_util_1.ecrecover(msgHash, new BN(v).toNumber(), r, s);\n  } catch (e) {\n    return {\n      gasUsed: gasUsed,\n      returnValue: Buffer.alloc(0)\n    };\n  }\n  return {\n    gasUsed: gasUsed,\n    returnValue: ethereumjs_util_1.setLengthLeft(ethereumjs_util_1.publicToAddress(publicKey), 32)\n  };\n}\nexports.default = default_1;","map":null,"metadata":{},"sourceType":"script"}